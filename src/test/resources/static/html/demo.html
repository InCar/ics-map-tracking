<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>hello</title>
    <link rel="stylesheet" type="text/css" href="../css/reset.css" />
</head>
<body>

<div id="apiId" style="width:100%;height:100%;">
</div>

<script src="../../ics/static/maptracking/js/testbundle.js">
</script>
<script>
   let track = new Maptrack({
        dom: "apiId",
        mapType: 'bmap',
        mapTrack: false,       // 是否开启轨迹
        mapMointer: false,   // 是否开启推送
        config: {
            // soketUrl: 'ws://192.168.75.1:8889/api/ws/gpsWebSocket'
            trackControl: {
                startButton: '开',
            }
        }
    });
    track.on("play", function(){
        console.log('you click play!');
    })
    track.on("pause", function(){
        console.log('you click pause!');
    })
    track.on("stop", function(){
        console.log('you click stop!');
    })
    track.on("add", function(){
        console.log('you click add!');
    })
    track.on("reduce", function(){
        console.log('you click reduce!');
    })
  // gps转成百度坐标
   // track.translateToBmap({lat: 39.990912172420714, lng: 116.32715863448607})
   // gps转高德坐标
   // track.GPS.translateToAmap({lat: 39.990912172420714, lng: 116.32715863448607})
    // 创建点
        
       track.init((BMap, map) => {
        let data = {
            lat: 39.990912172420714,
            lng: 116.32715863448607
        }
         let newData = track.translateToBmap(data)
        let point = new BMap.Point(newData.lng, newData.lat);
        let marker = new BMap.Marker(point);
        map.addOverlay(marker);  // 标点
       })
</script>
</body>
</html>